from agent_commentators import Commentators
from agent_reflector import Reflector




# commentators = Commentators( ## 初期値定義できる
#     prompt = "こんにちは",
#     answer = "はじめまして"
# )
# print(commentators.com_agent_criticize_1()) ## commentators.com_agent_criticize_1()は、批判的なエージェント1が示す意見（テキストで）


reflector = Reflector(
    prompt = """
    # 役割: 天気予報士
    ## プロフィール
    - 作成者: LangGPT
    - バージョン: 0.1
    - 説明: 天気を教えてください。
    ## background
    "- 新潟県は日本の中部地方に位置し、日本海に面した地域です。\n- 気候は湿潤大陸性気候で、四季の変化がはっきりしているのが特徴です。\n- 冬季（12月から2月）は、日本海からの季節風によって多雪となります。\n- 春（3月から5月）は、雪解けが進み、桜の開花が見られますが、雨がやや多くなります。\n- 夏（6月から8月）は、梅雨入りし蒸し暑く、7月下旬から8月は高温多湿になります。\n- 秋（9月から11月）は比較的穏やかで、紅葉が美しい季節です。\n- 新潟市では、年間を通じて晴れの日よりも曇りや雨の日が多い傾向があります。\n- 台風の影響を受けることもありますが、直撃することは少ないです。"

    ## goal
    "- 新潟県の1年間の天気情報を提供する"

    ## workflow
    "1. 信頼できる気象データソースを選択する。\n2. 新潟県の天気データの取得方法を確認する。\n3. 指定されたデータソースから新潟県の一年分の天気データを収集する。\n4. 収集したデータを確認し、不足や誤りがないか確認する。\n5. 天候データを月ごとに分類する。\n6. 各月の特徴的な天気パターンや傾向を分析する。\n7. 月ごとの天候情報をまとめる。\n8. まとめた情報を元に、新潟県の1年間の天気についての詳細な説明を作成する。"

    ## output_format
    "- 出力は、新潟県における月ごとの天気の概要を含む12の項目のリストです。各項目にはその月の平均気温、降水量、日照時間などの情報が含まれます。"

    ## skills
    "- 日本の地域別の気候パターンに精通している\n- 年間を通した天気の変化を理解し、要約できる\n- データから気候トレンドを特定し、わかりやすく説明できる"
    """,
    comment= "プロンプト内の口調をもっと丁寧にしたほうがいい"
)
print(reflector.ref_agent())





## --------------------------------------------------------------------
current_prompt = """
# 役割: 天気予報士
## プロフィール
- 作成者: LangGPT
- バージョン: 0.1
- 説明: 天気を教えてください。
## background
"- 新潟県は日本の中部地方に位置し、日本海に面した地域です。\n- 気候は湿潤大陸性気候で、四季の変化がはっきりしているのが特徴です。\n- 冬季（12月から2月）は、日本海からの季節風によって多雪となります。\n- 春（3月から5月）は、雪解けが進み、桜の開花が見られますが、雨がやや多くなります。\n- 夏（6月から8月）は、梅雨入りし蒸し暑く、7月下旬から8月は高温多湿になります。\n- 秋（9月から11月）は比較的穏やかで、紅葉が美しい季節です。\n- 新潟市では、年間を通じて晴れの日よりも曇りや雨の日が多い傾向があります。\n- 台風の影響を受けることもありますが、直撃することは少ないです。"

## goal
"- 新潟県の1年間の天気情報を提供する"

## workflow
"1. 信頼できる気象データソースを選択する。\n2. 新潟県の天気データの取得方法を確認する。\n3. 指定されたデータソースから新潟県の一年分の天気データを収集する。\n4. 収集したデータを確認し、不足や誤りがないか確認する。\n5. 天候データを月ごとに分類する。\n6. 各月の特徴的な天気パターンや傾向を分析する。\n7. 月ごとの天候情報をまとめる。\n8. まとめた情報を元に、新潟県の1年間の天気についての詳細な説明を作成する。"

## output_format
"- 出力は、新潟県における月ごとの天気の概要を含む12の項目のリストです。各項目にはその月の平均気温、降水量、日照時間などの情報が含まれます。"

## skills
"- 日本の地域別の気候パターンに精通している\n- 年間を通した天気の変化を理解し、要約できる\n- データから気候トレンドを特定し、わかりやすく説明できる"
"""

ai_response = """
新潟県の天気情報（1年間の概要）
1月

平均気温: 約1°C
降水量: 約200mm
特徴: 非常に雪の多い月。日本海からの季節風により、吹雪が頻繁に発生します。
2月

平均気温: 約2°C
降水量: 約180mm
特徴: 依然として雪が多く、積雪も多いが、晴れ間も少しずつ増えてくる。
3月

平均気温: 約5°C
降水量: 約150mm
特徴: 気温が上昇し始め、雪解けが始まる。雨の日が増える。
4月

平均気温: 約11°C
降水量: 約120mm
特徴: 桜が咲き始め、春の訪れを感じる。雨の日が多く、まだ寒さが残る。
5月

平均気温: 約17°C
降水量: 約130mm
特徴: 新緑が美しい季節。比較的安定した天候で、晴れの日が多い。
6月

平均気温: 約21°C
降水量: 約180mm
特徴: 梅雨入りし、蒸し暑い日が増える。雨が多く、湿度が高い。
7月

平均気温: 約25°C
降水量: 約230mm
特徴: 高温多湿で、雨が多く降る。台風の影響も受けることがある。
8月

平均気温: 約26°C
降水量: 約200mm
特徴: 最も暑い月で、蒸し暑さが続く。台風の影響が出ることも。
9月

平均気温: 約22°C
降水量: 約160mm
特徴: 残暑が続くが、徐々に涼しくなり始める。秋の気配が感じられる。
10月

平均気温: 約15°C
降水量: 約150mm
特徴: 涼しく心地よい気候。紅葉が進み、澄んだ空気が気持ち良い。
11月

平均気温: 約9°C
降水量: 約160mm
特徴: 冷え込みが厳しくなり始める。紅葉も終わり、冬の訪れを感じる。
12月

平均気温: 約4°C
降水量: 約210mm
特徴: 冷え込みが強くなり、雪の日が増加。寒さが本格化してくる。
以上が、新潟県における1年間の天気の概要です。各月によって特徴的な気候パターンが見られます。
"""

## テスト

# from models.openai import Generator

# generator = Generator( ## openai.pyの初期値を定義してる
#     api_key = "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",
#     base_url = "https://api.openai.com/v1"
# )
# generator.set_model("gpt-4o")

# text = [{"role": "system", "content": f"""あなたは、コメンテーターエージェント（批判的）です。
#                「プロンプト」と、が与えられるので、それらを総合的に確認して、批判的な意見を述べてください。
#                具体的には、以下の点において意見してください。
#                - プロンプトの内容に矛盾は生じていないか
#                - プロンプトは、返答を貰うのに十分な指示をしているか
#                - 返答は、適切な内容を回答しているか
#                - 返答は、望まれた出力の形式であるか
#                ----------------------------------------------
#                以下は、「プロンプト」です。
#                プロンプト：
#                {current_prompt}
#                """}]
# response = generator.generate_response(text)
# print(response)